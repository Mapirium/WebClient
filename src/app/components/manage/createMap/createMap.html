<navbar></navbar>
<messages></messages>
<main>
    <div class="container">
        <h1>Karte erstellen</h1>
        <div class="form-group">
            <label for="title">Titel:</label>
            <input type="text" id="title" class="form-control" ng-model="$ctrl.map.title">
        </div>
        <div class="form-group">
            <label>Schlüssel:</label>
            <input type="text" id="key" class="form-control" ng-model="$ctrl.map.name">
        </div>
        <h2>Felder erfassen</h2>
        <h3>Felder:</h3>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-primary" ng-click="$ctrl.addFieldDefinition()">Feld hinzufügen</button>
        </div>

        <div class="panel panel-default" ng-repeat="(key, fieldDef) in $ctrl.fieldDefinitions">
            <div class="panel-heading">
                <button type="button" class="btn btn-danger pull-right" ng-click="$ctrl.removeFieldDefinition(key)">Feld
                    entfernen
                </button>
                <div class="clearfix"></div>
            </div>
            <div class="panel-body">
                <field-definition field-definition="fieldDef"></field-definition>
            </div>
        </div>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-primary" ng-click="$ctrl.saveMap()">Karte erstellen!</button>
        </div>
    </div>
</main>